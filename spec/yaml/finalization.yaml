$schema: http://json-schema.org/draft-07/schema#
title: FinalizationData
type: object
required:
- aggregate_pubkey
- generations
- settings
properties:
  aggregate_pubkey:
    $ref: '#/definitions/BLSPubkeyRaw'
  generations:
    type: array
    items:
      $ref: '#/definitions/Generation'
  settings:
    $ref: '#/definitions/GenerateSettings'
definitions:
  BLSPubkeyRaw:
    description: Hex encoded byte array
    type: string
    maxLength: 96
    minLength: 96
    pattern: ^[0-9a-fA-F]{96}$
  BLSSignatureRaw:
    description: Hex encoded byte array
    type: string
    maxLength: 192
    minLength: 192
    pattern: ^[0-9a-fA-F]{192}$
  DkgGenId:
    description: Hex encoded byte array
    type: string
    maxLength: 32
    minLength: 32
    pattern: ^[0-9a-fA-F]{32}$
  GenerateSettings:
    type: object
    required:
    - gen_id
    - k
    - n
    properties:
      gen_id:
        $ref: '#/definitions/DkgGenId'
      k:
        type: integer
        format: uint8
        minimum: 0.0
      n:
        type: integer
        format: uint8
        minimum: 0.0
  Generation:
    type: object
    required:
    - base_hash
    - base_pubkeys
    - message_cleartext
    - message_signature
    - partial_pubkey
    properties:
      base_hash:
        $ref: '#/definitions/SHA256Raw'
      base_pubkeys:
        type: array
        items:
          $ref: '#/definitions/BLSPubkeyRaw'
      message_cleartext:
        type: string
      message_signature:
        $ref: '#/definitions/BLSSignatureRaw'
      partial_pubkey:
        $ref: '#/definitions/BLSPubkeyRaw'
  SHA256Raw:
    description: Hex encoded byte array
    type: string
    maxLength: 64
    minLength: 64
    pattern: ^[0-9a-fA-F]{64}$
